<div class="app-details">
    
        <div class="row">
            <div class="col span-2">
                <div class="detail-image">
                    <img style="width:128px; height:128px;" src="{{ app?.image }}">
                    <button class="btn" role="button" (click)="getApp()">Get it</button>
                </div>
            </div>
            <div class="col span-6">
                    <h2>{{ app?.title }}</h2>
                    <h4>{{ app?.overview }}</h4>
                    <p>{{ app?.description }}</p>
                    <p>Created by <span class="creator-name">{{ app?.creator?.username }}</span></p>
                    <p>License Type: {{ licenseType }}</p>
            </div>
            <div class="col span-2 push-1 rating-group">
                <div>
                    <span class="rating-text">{{ averageRating }}</span>
                </div>
                <div>
                    <rating style="font-size:18px;" [rating]="app?.average_rating"></rating>
                </div>
                <div>
                    {{ reviews.length }} rating<span *ngIf="reviews.length!=1">s</span>
                </div>
                <div>{{ app?.downloadcount || 0 }} download<span *ngIf="app?.downloadcount!=1">s</span></div>
            </div>
        </div>

    <a [routerLink]="['AppEdit', { id: app?.id }]" class="btn btn-md btn-default">Edit</a>

    <div class="col span-11 meta-section">
        <div *ngIf="app?.related?.length >0">
            <hr>
            <h3>Related content</h3>
            <div class="app-widgets">
                <app-widget class="small" *ngFor="#relatedContent of app.related" [app]="relatedContent"></app-widget>
            </div>
            <hr>
        </div>
        <!--<div>
           <media-carousel [resource]="app"></media-carousel>
        </div>-->
        <div *ngIf="reviews.length >0" class="col span-7 reviews-list">        
            <h3>Reviews<span *ngIf="!authenticationService?.userSignedIn"> - <a [routerLink]="['SignIn']" >Sign In</a> to submit a review</span></h3>    
            <div *ngFor="#review of reviews">
                <hr>
                <div class="detail-review"><b>{{ review?.title }}</b><br>{{ review?.description }}<br></div>
                <div>
                    <rating rating="{{ review?.rating }}"></rating>
                </div>
            </div>
        </div>
        <div class="col span-4">
            
            <submit-review *ngIf="authenticationService?.userSignedIn" (reviewAdded)="reviewAdded(review)" [resourceId]="resourceId"></submit-review>
        </div>
    </div>
</div>